(function(){var n=this,t=n.humanize,e={};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.humanize=e):("function"==typeof define&&define.amd&&define("humanize",function(){return e}),n.humanize=e),e.noConflict=function(){return n.humanize=t,this},e.pad=function(n,t,e,r){if(n+="",e?e.length>1&&(e=e.charAt(0)):e=" ",r=void 0===r?"left":"right","right"===r)for(;t>n.length;)n+=e;else for(;t>n.length;)n=e+n;return n},e.time=function(){return(new Date).getTime()/1e3};var r=[0,0,31,59,90,120,151,181,212,243,273,304,334],a=[0,0,31,60,91,121,152,182,213,244,274,305,335];e.date=function(n,t){var u=void 0===t?new Date:t instanceof Date?new Date(t):new Date(1e3*t),o=/\\?([a-z])/gi,i=function(n,t){return s[n]?s[n]():t},f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["January","February","March","April","May","June","July","August","September","October","November","December"],s={d:function(){return e.pad(s.j(),2,"0")},D:function(){return s.l().slice(0,3)},j:function(){return u.getDate()},l:function(){return f[s.w()]},N:function(){return s.w()||7},S:function(){var n=s.j();return n>4&&21>n?"th":{1:"st",2:"nd",3:"rd"}[n%10]||"th"},w:function(){return u.getDay()},z:function(){return(s.L()?a[s.n()]:r[s.n()])+s.j()-1},W:function(){var n=s.z()-s.N()+1.5;return e.pad(1+Math.floor(Math.abs(n)/7)+(n%7>3.5?1:0),2,"0")},F:function(){return c[u.getMonth()]},m:function(){return e.pad(s.n(),2,"0")},M:function(){return s.F().slice(0,3)},n:function(){return u.getMonth()+1},t:function(){return new Date(s.Y(),s.n(),0).getDate()},L:function(){return 1===new Date(s.Y(),1,29).getMonth()?1:0},o:function(){var n=s.n(),t=s.W();return s.Y()+(12===n&&9>t?-1:1===n&&t>9)},Y:function(){return u.getFullYear()},y:function(){return(s.Y()+"").slice(-2)},a:function(){return u.getHours()>11?"pm":"am"},A:function(){return s.a().toUpperCase()},B:function(){var n=u.getTime()/1e3,t=n%86400+3600;0>t&&(t+=86400);var e=t/86.4%1e3;return 0>n?Math.ceil(e):Math.floor(e)},g:function(){return s.G()%12||12},G:function(){return u.getHours()},h:function(){return e.pad(s.g(),2,"0")},H:function(){return e.pad(s.G(),2,"0")},i:function(){return e.pad(u.getMinutes(),2,"0")},s:function(){return e.pad(u.getSeconds(),2,"0")},u:function(){return e.pad(1e3*u.getMilliseconds(),6,"0")},O:function(){var n=u.getTimezoneOffset(),t=Math.abs(n);return(n>0?"-":"+")+e.pad(100*Math.floor(t/60)+t%60,4,"0")},P:function(){var n=s.O();return n.substr(0,3)+":"+n.substr(3,2)},Z:function(){return 60*-u.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(o,i)},r:function(){return"D, d M Y H:i:s O".replace(o,i)},U:function(){return u.getTime()/1e3||0}};return n.replace(o,i)},e.numberFormat=function(n,t,e,r){t=isNaN(t)?2:Math.abs(t),e=void 0===e?".":e,r=void 0===r?",":r;var a=0>n?"-":"";n=Math.abs(+n||0);var u=parseInt(n.toFixed(t),10)+"",o=u.length>3?u.length%3:0;return a+(o?u.substr(0,o)+r:"")+u.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+r)+(t?e+Math.abs(n-u).toFixed(t).slice(2):"")},e.naturalDay=function(n,t){n=void 0===n?e.time():n,t=void 0===t?"Y-m-d":t;var r=86400,a=new Date,u=new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime()/1e3;return u>n&&n>=u-r?"yesterday":n>=u&&u+r>n?"today":n>=u+r&&u+2*r>n?"tomorrow":e.date(t,n)},e.relativeTime=function(n){n=void 0===n?e.time():n;var t=e.time(),r=t-n;if(2>r&&r>-2)return(r>=0?"just ":"")+"now";if(60>r&&r>-60)return r>=0?Math.floor(r)+" seconds ago":"in "+Math.floor(-r)+" seconds";if(120>r&&r>-120)return r>=0?"about a minute ago":"in about a minute";if(3600>r&&r>-3600)return r>=0?Math.floor(r/60)+" minutes ago":"in "+Math.floor(-r/60)+" minutes";if(7200>r&&r>-7200)return r>=0?"about an hour ago":"in about an hour";if(86400>r&&r>-86400)return r>=0?Math.floor(r/3600)+" hours ago":"in "+Math.floor(-r/3600)+" hours";var a=172800;if(a>r&&r>-a)return r>=0?"1 day ago":"in 1 day";var u=2505600;if(u>r&&r>-u)return r>=0?Math.floor(r/86400)+" days ago":"in "+Math.floor(-r/86400)+" days";var o=5184e3;if(o>r&&r>-o)return r>=0?"about a month ago":"in about a month";var i=parseInt(e.date("Y",t),10),f=parseInt(e.date("Y",n),10),c=12*i+parseInt(e.date("n",t),10),s=12*f+parseInt(e.date("n",n),10),d=c-s;if(12>d&&d>-12)return d>=0?d+" months ago":"in "+-d+" months";var l=i-f;return 2>l&&l>-2?l>=0?"a year ago":"in a year":l>=0?l+" years ago":"in "+-l+" years"},e.ordinal=function(n){n=parseInt(n,10),n=isNaN(n)?0:n;var t=0>n?"-":"";return n=Math.abs(n),t+n+(n>4&&21>n?"th":{1:"st",2:"nd",3:"rd"}[n%10]||"th")},e.filesize=function(n,t,r,a,u){if(t=void 0===t?1024:t,r=isNaN(r)?2:Math.abs(r),a=void 0===a?".":a,u=void 0===u?",":u,0>=n)return"0 bytes";var o=[1],i=["bytes","Kb","Mb","Gb","Tb","Pb"];if(t>n)return e.numberFormat(n,0)+" "+i[0];for(var f=1;i.length>f;f++)if(o[f]=o[f-1]*t,o[f]>n)return e.numberFormat(n/o[f-1],r,a,u)+" "+i[f-1];return e.numberFormat(n/o[i.length-1],r,a,u)+" "+i[i.length-1]},e.linebreaks=function(n){return n=n.replace(/^([\n|\r]*)/,""),n=n.replace(/([\n|\r]*)$/,""),n=n.replace(/(\r\n|\n|\r)/g,"\n"),n=n.replace(/(\n{2,})/g,"</p><p>"),n=n.replace(/\n/g,"<br />"),"<p>"+n+"</p>"},e.nl2br=function(n){return n.replace(/(\r\n|\n|\r)/g,"<br />")},e.truncatechars=function(n,t){return t>=n.length?n:n.substr(0,t)+"…"},e.truncatewords=function(n,t){var e=n.split(" ");return t>e.length?n:e.slice(0,t).join(" ")+"…"}}).call(this);